//---------------------------------------------------------------------------
//!	@file	Score.cpp
//!	@brief	スコアの処理
//---------------------------------------------------------------------------

//---------------------------------------------------------------------------
//! コンストラクター
//---------------------------------------------------------------------------
Score::Score()
{
	Initialize();
}

//---------------------------------------------------------------------------
//! 初期化処理
//---------------------------------------------------------------------------
void Score::Initialize()
{
	count = 0;
	score = 0;
	isImGui = false;
}

//---------------------------------------------------------------------------
//! 更新処理
//---------------------------------------------------------------------------
void Score::Update()
{
	count++;

	//! 40秒以上100秒以下なら、20秒ごとにスコア-5000
	if (count >= 2400 && count % 1200 == 0 && count < 6000) score -= 5000;
	//! 100秒以上になったら、20秒ごとにスコア-10000
	if (count >= 6000 && count % 1200 == 0) score -= 10000;

	//! スコアを0位かにならないようにする
	if (score < 0) score = 0;

	ImGui();
}

//---------------------------------------------------------------------------
//! imguiの処理
//---------------------------------------------------------------------------
void Score::ImGui()
{
	OpenAndCloseImGui();

	if (isImGui) {

		ImGui::Begin("Score");

		ImGui::Text("ScoreNum");
		ImGui::SameLine(70);
		ImGui::InputInt("##Score", &score);

		ImGui::End();
	}
}

//---------------------------------------------------------------------------
//! 描画処理（中身なし）
//---------------------------------------------------------------------------
void Score::Draw()
{
}